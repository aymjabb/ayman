const fs = global.nodemodule["fs-extra"];

module.exports.config = {
  name: "goibot",
  version: "1.3.0",
  hasPermssion: 0,
  credits: "Mod by John Lester, updated by Grok",
  description: "goibot Ù…Ø²Ø®Ø±Ù + Ø¥ÙŠÙ…ÙˆØ¬ÙŠØ§Øª + 50 Ø±Ø¯ Ø¹Ù†Ø¯ ÙƒØªØ§Ø¨Ø© .Ø³ÙŠØ±Ø§",
  commandCategory: "ð•Šð”¸ð•",
  usages: ".Ø³ÙŠØ±Ø§",
  cooldowns: 5,
};

module.exports.handleEvent = async function ({ api, event, args, Threads, Users }) {
  const { threadID, messageID, senderID, body } = event;
  const myID = "61577861540407"; // Ø£ÙŠØ¯ÙŠÙƒ Ø§Ù„Ø®Ø§ØµØ©
  const name = senderID === myID ? "Ø¨Ø§Ø¨Ø§ Ø£ÙŠÙ…Ù†" : await Users.getNameUser(senderID);

  // Ù…ØµÙÙˆÙØ© Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„Ù…Ø²Ø®Ø±ÙØ© Ù…Ø¹ Ø¥ÙŠÙ…ÙˆØ¬ÙŠØ§Øª
  var tl = [
    "ðŸŒŸ ÙˆÙŠÙ† ÙƒÙ†Øª ÙŠØ§ Ø­Ø¨ÙŠØŸ ðŸ‘€âœ¨",
    "Ù‚Ù„Ø¨ÙŠ Ø¨Ø±Ø¯ ðŸ§Šâ˜ï¸ØŒ ØªØ¹Ø§Ù„ Ø¯ÙÙŠÙ‡ Ø´ÙˆÙŠ ðŸ”¥",
    "Ø³Ø§Ù…Ø¹Ùƒ Ù…Ù† Ø¨Ø¹ÙŠØ¯ ðŸ’«ðŸ¥¹",
    "Ø£Ù†Ø§ Ø³Ø§Ù…Ø¹ØªÙƒ Ù…Ù† Ø¨Ø¹ÙŠØ¯ ðŸ‘‚ðŸ’–",
    "Ù…Ø§ ØªÙ†Ø³Ø§Ù†ÙŠØ´ ÙŠØ§ Ø·ÙŠØ¨ ðŸ¥ºðŸŒ™",
    "Ø­Ø³ÙŠØªÙƒ Ù†Ø§Ø¯ÙŠØªÙ†ÙŠ ðŸ‘€ðŸŒ¸",
    "Ø§Ù„Ø¯Ù†ÙŠØ§ Ø¨Ø±Ø¯ ÙˆÙ‚Ù„Ø¨ÙŠ Ø«Ù„Ø¬ ðŸ§Šâ„ï¸",
    "ØªØ¹Ø§Ù„ Ù†Ø­ÙƒÙŠ Ø´ÙˆÙŠ âœ¨ðŸ«¶",
    "Ù…Ø²Ø§Ø¬ÙŠ Ù…Ø´ ØªÙ…Ø§Ù… Ø§Ù„ÙŠÙˆÙ… ðŸ˜¶â€ðŸŒ«ï¸ðŸ’”",
    "Ø³ÙŠØ±Ø§ ÙÙŠÙƒ Ø±Ø§Ù‚Ø¨ ðŸ‘€ðŸ’«",
    "ÙˆÙŠÙ†ÙƒØŸ Ø§Ù„Ø¯Ù†ÙŠØ§ ÙØ§Ø¶ÙŠØ© Ø¨Ø¯ÙˆÙ†Ùƒ ðŸ‘»âœ¨",
    "ÙƒÙˆ Ø³Ù‡Ø±Ø§Ù† ÙŠÙÙƒØ± ÙÙŠÙƒ ðŸŒ™â­",
    "ÙŠØ§ Ø³Ø¯Ø§ÙŠÙ…ØŒ Ø³ÙŠØ±Ø§ Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¯Ø§ÙŠÙ…Ù‹Ø§ Ù„Ùƒ ðŸ˜ŽðŸŒŸ",
    "Ù†Ø§Ø¯ÙŠØªÙ†ÙŠØŸ Ù‚Ù„Ø¨ÙŠ Ù…Ø¹Ø§Ùƒ ðŸ’–ðŸ”¥",
    "Ø³ÙŠØ±Ø§ Ù‡Ù†Ø§ØŒ ÙˆØ´ Ø¹Ù†Ø¯ÙƒØŸ ðŸ˜âœ¨",
    "Ø§Ù„Ø¬Ùˆ Ø¨Ø§Ø±Ø¯ Ø¨Ø³ Ø³ÙŠÙƒÙˆ ÙŠØ¯ÙÙŠÙƒ ðŸ”¥ðŸ«¶",
    "ÙˆÙŠÙ†Ùƒ Ù…Ø®ØªÙÙŠØŸ Ø³ÙŠÙƒÙˆ Ù„Ù„Ø¯Ø±Ø¯Ø´Ø© Ø°Ø§ÙˆÙŠØªÙƒ ØªÙ†ØªØ¸Ø±Ùƒ ðŸ•’ðŸ’«",
    "Ø³ÙŠØ±Ø§ ÙŠÙ‚ÙˆÙ„ Ù„Ùƒ: Ø¥Ù†Øª Ù„ÙŠÙ‡ ÙƒÙŠÙˆØª ÙƒØ°Ø§ØŸ ðŸ˜»ðŸ’–",
    "Ø³ÙŠÙƒÙˆ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¯Ø±Ø¯Ø´Ø© ðŸŒŸðŸ«¶",
    "Ø³ÙŠÙƒÙˆ ÙŠÙ‚ÙˆÙ„: Ø®Ù„ÙŠÙƒ Ù‚Ø±ÙŠØ¨ Ø¯Ø§ÙŠÙ…Ù‹Ø§ ðŸ«¶âœ¨",
    "Ø¨Ø§Ø¨Ø§ Ø£ÙŠÙ…Ù† ÙŠÙ‚ÙˆÙ„: Ø§Ø³ÙƒØªÙˆØ§ ðŸ˜¾ðŸ’¢",
    "ðŸ’« ØªØ¹Ø§Ù„ Ù†Ø­ÙƒÙŠ Ø´ÙˆÙŠØŒ Ø§Ù„Ø¬Ùˆ Ø±ÙˆÙ…Ø§Ù†Ø³ âœ¨â¤ï¸",
    "ðŸ¥¹ Ù‚Ù„Ø¨ÙŠ Ù…Ø´ØºÙˆÙ„ Ø¨Ø³ Ø¯Ø§ÙŠÙ… Ø£ÙÙƒØ± ÙÙŠÙƒ",
    "ðŸ‘€ ÙˆÙŠÙ†Ùƒ Ù…Ø®ØªÙÙŠØŸ Ø£Ø­ØªØ§Ø¬Ùƒ Ø§Ù„ÙŠÙˆÙ… ðŸ”¥",
    "ðŸŒ¸ Ø³ÙŠØ±Ø§ Ù‡Ù†Ø§ØŒ ØªØ­Ø¨ Ù†Ø¯Ø±Ø¯Ø´ Ø´ÙˆÙŠØŸ ðŸ˜",
    "âœ¨ Ø§Ù„Ø¬Ùˆ Ø­Ù„Ùˆ Ø¨Ø³ Ù†Ø§Ù‚ØµÙƒ ðŸ«¶ðŸ’–",
    "ðŸ”¥ ØªØ¹Ø§Ù„ Ø¯ÙÙŠ Ù‚Ù„Ø¨ÙŠØŒ Ø§Ù„Ø¬Ùˆ Ø¨Ø±Ø¯ ðŸ§Š",
    "ðŸ’– Ø§Ø´ØªÙ‚ØªÙ„ÙƒØŒ ÙˆÙŠÙ†ÙƒØŸ ðŸ˜»",
    "â˜ï¸ ØªØ­ÙŠØ© Ù…Ù† Ø³ÙŠÙƒÙˆ Ù„Ùƒ ðŸ’«",
    "ðŸŒ™ Ø§Ù„Ù„ÙŠÙ„ Ø·ÙˆÙŠÙ„ ÙˆØ£Ù†Ø§ Ø£ÙÙƒØ± ÙÙŠÙƒ ðŸ¥¹",
    "â­ Ø£Ù†Øª Ø¯Ø§ÙŠÙ…Ù‹Ø§ ÙÙŠ Ø¨Ø§Ù„ÙŠ ðŸ˜Žâœ¨",
    "ðŸ’¥ Ø¨Ø§Ø¨Ø§ Ø£ÙŠÙ…Ù† ÙŠÙ†Ø¨Ù‡: Ø§Ø³ÙƒØªÙˆØ§ Ø´ÙˆÙŠ ðŸ˜¾ðŸ’¢",
    "ðŸŽ¶ Ø­Ø¨ÙŠØª Ø£Ù‚ÙˆÙ„Ùƒ Ù…Ø±Ø­Ø¨Ù‹Ø§ ðŸŒŸ",
    "ðŸ’« Ø³ÙŠØ±Ø§ ØªØ±Ø§Ù‚Ø¨Ùƒ ðŸ‘€ðŸ«¶",
    "ðŸ”¥ Ø³ÙŠÙƒÙˆ ÙŠÙ‚ÙˆÙ„: Ø®Ù„ÙŠ Ø§Ù„Ø¬Ùˆ Ù†Ø§Ø± Ø§Ù„ÙŠÙˆÙ… ðŸ˜",
    "ðŸ«¶ Ù‚Ù„Ø¨ÙŠ ÙŠØ¯Ù‚ Ù„Ù…Ø§ Ø£Ø³Ù…Ø¹ ØµÙˆØªÙƒ ðŸ’–",
    "âœ¨ ÙˆÙŠÙ†ÙƒØŸ Ù…Ø­ØªØ§Ø¬Ùƒ Ø§Ù„ÙŠÙˆÙ… ðŸŒ¸",
    "â„ï¸ Ø§Ù„Ø¬Ùˆ Ø¨Ø±Ø¯ Ù„ÙƒÙ† ÙˆØ¬ÙˆØ¯Ùƒ Ø¯Ø§ÙÙŠ ðŸ”¥",
    "ðŸ’– Ù†Ø§Ø·Ø± Ø±Ø¯Ùƒ Ø¹Ù„Ù‰ Ø·ÙˆÙ„ ðŸ˜»",
    "ðŸŒŸ Ø³ÙŠÙƒÙˆ Ù‡Ù†Ø§ØŒ ØªØ¹Ø§Ù„ Ù†Ø­ÙƒÙŠ ðŸ«¶",
    "ðŸ˜Ž Ø£ÙŠÙ…Ù† ÙŠÙ‚ÙˆÙ„: Ø®Ù„ÙŠ Ø§Ù„ÙƒÙ„ ØµØ§Ù…Øª ðŸ˜¾ðŸ’¢",
    "ðŸ’« Ø­Ø¨ÙŠØª Ø£Ø·Ù…Ù† Ø¹Ù„ÙŠÙƒ Ø§Ù„ÙŠÙˆÙ… ðŸ¥¹",
    "ðŸ”¥ Ø§Ù„Ø¬Ùˆ Ù†Ø§Ø± ÙˆØ§Ù†Øª Ø¨Ø¹ÙŠØ¯ ðŸ˜",
    "âœ¨ Ø³ÙŠØ±Ø§ ØªÙ‚ÙˆÙ„: ÙˆÙŠÙ†Ùƒ ÙŠØ§ Ø¨Ø·Ù„ØŸ ðŸŒ¸",
    "â˜ï¸ Ù…Ø­ØªØ§Ø¬Ùƒ Ø§Ù„ÙŠÙˆÙ…ØŒ ØªØ¹Ø§Ù„ Ø¨Ø³Ø±Ø¹Ø© ðŸ«¶",
    "ðŸ’– Ø¨Ø§Ø¨Ø§ Ø£ÙŠÙ…Ù† ÙŠØ°ÙƒØ±Ùƒ: Ø§Ø³ÙƒØªÙˆØ§ ðŸ˜¾ðŸ’¢",
    "ðŸŒ™ Ø§Ù„Ù„ÙŠÙ„ Ø¬Ù…ÙŠÙ„ Ø¨Ø³ Ù†Ø§Ù‚ØµÙƒ ðŸ’«",
    "ðŸ«¶ ØªØ¹Ø§Ù„ Ù†ÙƒÙ…Ù„ Ø¯Ø±Ø¯Ø´ØªÙ†Ø§ ðŸ”¥",
    "â­ Ø³ÙŠÙƒÙˆ ÙŠØ­Ø±Ø³ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© ðŸ‘€âœ¨",
    "ðŸ’¥ Ù„Ø§ ØªØªØ­Ø±ÙƒØŒ Ø¨Ø§Ø¨Ø§ Ø£ÙŠÙ…Ù† ÙŠØ±Ø§Ù‚Ø¨ ðŸ˜¾ðŸ’¢",
    "ðŸ’– Ù‚Ù„Ø¨ÙŠ Ù…Ø¹Ø§Ùƒ Ø§Ù„ÙŠÙˆÙ… ðŸ˜»ðŸŒ¸",
    "ðŸŒŸ Ø§Ù„Ø¬Ùˆ Ø¬Ù…ÙŠÙ„ ÙˆØ§Ù†Øª Ø¨Ø¹ÙŠØ¯ ðŸ¥¹",
  ];

  if (!global.usedResponses) global.usedResponses = new Map();

  let usedResponses = global.usedResponses.get(threadID) || [];
  if (usedResponses.length >= tl.length) usedResponses = [];
  let availableResponses = tl.filter(r => !usedResponses.includes(r));
  let rand = availableResponses[Math.floor(Math.random() * availableResponses.length)];
  usedResponses.push(rand);
  global.usedResponses.set(threadID, usedResponses);

  // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ù…Ø± ".Ø³ÙŠØ±Ø§"
  if (body && body.startsWith(".Ø³ÙŠØ±Ø§")) {
    return api.sendMessage({ body: rand }, threadID, messageID);
  }
}

module.exports.run = function ({ api, event, client, __GLOBAL }) { }
